PREREQUISITES
-------------


set up python virtualenv and various packages:

 $ sudo easy_install virtualenv
 $ virtualenv --no-site-packages pyenv
 $ . pyenv/bin/activate
 $ pip install tornado lxml WTForms SQLAlchemy python-dateutil rdflib rdfextras py-bcrypt alembic PIL pylibmc python-memcached dogpile.cache MySQL-python

 $ pip install git+https://github.com/bcampbell/fuzzydate.git

(don't need both pylibmc and python-memcached - the former probably faster
but more prone to package version mismatches)

TODO: supply pip requirements file

(See footnote [1] about PIL on ubuntu and EC2 Linux AMI)


lxml requires compiler and headers from python, libxml2 and libxslt, eg:
 $ sudo apt-get install python-dev libxml2-dev libxslt-dev
or:
 $ sudo yum install python26-devel libxml2 libxml2-devel libxslt libxslt-devel

# MySQL-python requires mysql headers, eg:
 $ sudo apt-get install libmysqlclient-dev
or:
 $ sudo yum install mysql-devel



INSTALL
-------

 $ sudo mkdir /srv/unsourced.org
 $ sudo chown <USER>:<USER> /srv/unsourced.org
 $ cd /srv/unsourced.org
 $ mkdir logs


 $ git clone git@github.com:bcampbell/unsourced.git
 $ git clone git@github.com:bcampbell/metareadability.git
 $ git clone git@github.com:bcampbell/decruft.git

TODO: pack up metareadability and decruft into pip-installable form
for now, just symlink 'em into scrapomat dir:

 $ ln -s /srv/unsourced.org/metareadability/metareadability unsourced/scrapeomat/metareadability
 $ ln -s /srv/unsourced.org/decruft/decruft unsourced/scrapeomat/decruft


CONFIGURATION
-------------

copy and configure:
 unsourced/config.py.EXAMPLE
 unsourced/alembic.ini.EXAMPLE


TODO:
notes on nginx and supervisor config




FOOTNOTES
---------

[1] NOTES ON INSTALLING PIL:

on ubuntu 11.10/64bit:

 pip doesn't install PIL properly under 64bit ubuntu - it misses zlib, libjpeg
 and libfreetype.
 Cheesy hack workaround is to install ubuntu PIL package then copy the files
 into the virtualenv manually:

 $ sudo apt-get install python-imaging
 $ cp -r /usr/lib/python2.7/dist-packages/PIL {{VIRTUALENV}}/lib/python2.7/site-packages

on Amazon EC2 Linux AMI:

 Pip compiles PIL from source, so make sure all the image format libraries are
 installed before installing PIL - the missing ones won't be installed and you'll
 up with annoying "IOError: decoder jpeg not available" kinds of errors.
 eg:

  $ sudo yum install libjpeg libjpeg-devel
 (TODO: gif? png?)


